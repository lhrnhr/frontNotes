# 正则表达式

## 简介

123@qq.com✔

123.com❌  123@com❌

邮件的规则：前边随意，然后@，后面随意，然后.com

正则表达式用于定义一些字符串的规则，计算机可以根据正则表达式，来检查一个字符串是否符合规则，获取将字符串中符合规则的内容提取出来。

语法：

```javascript
var str = new RegExp("正则表达式","匹配模式")
// 匹配模式--i(忽略大小写)、g(全局匹配模式)
```

## 正则语法

使用字面量创建正则表达式

```javascript
var reg = /正则表达式/匹配模式
var reg = /a/i
var reg = /a/
/* 正则表达式 常用
   | 或
   [] 里面也是或的关系 eg: a|b等价于[ab]
   - 代表至，eg:a-b
   [^ab] 除了ab
   a[bde]c代表abc或adc或aec
*/
```

## 正则语法(二)

```javascript
var reg = /a{3}/ //量词{n},设置一个内容出现的次数，表示/aaa/
var reg = /ab{3}/ //量词只对前面一个内容起作用，表示/abbb/
var reg = /(ab){3}/ //使用括号将内容包起来，表示/ababab/
var reg = /ab{1,3}c/ //使用逗号，代表出现的次数，表示/abc/或/abbc/或/abbbc/
// {n}正好n次、{m,n}m-n次，{m,}m次以上
// +表示至少一个，相当于{1,}
// *表示0个或多个，相当于{0,}
// ?表示0个或1个，相当于{0,1}
// ^表示开头，注意区分[]里面的^
// $表示结尾
// $和^同时使用，表示要和正则表达式完全相同
// /^a|a$/ 表示以a结尾或以a开头
```

检查一个字符串是否是一个手机号

```javascript
var reg = /^1[3-9][0-9]{9}$/
//以1开头、第二位3-9、三位以后任意数字9个
```

## 正则语法(三)

```javascript
// .表示任意字符
// 需要使用转义符，检查是否含有点
var reg = /\./
// \w表示任意字母、数字、_[A-z0-9]
// \W表示除了字母、数字、_[^A-z0-9_]
// \d表示任意数字[0-9]
// \D表示除了数字、[^0-9]
// \s表示空格
// \S表示除了空格
// \b表示单词边界，创建一个正则表达式检查一个字符串是否含有单词child /\bchild\b/
// \B表示除了单词边界
var atr = "        admin       "
str = str.replace('/\s/g') //去除所有空格
str = str.replace('/^\s*/') //去除开头空格
str = str.replace('/\s*$/') //去除结尾空格
str = str.replace('/^\s*|\s*$/g') //去除开头和结尾的空格
```

## 正则语法(四)

```javascript
//电子邮件的正则
// 任意字母数字下划线、.任意字母数字下划线、@、任意字母数字、.、任意字母(2-5位)、.、任意字母(2-5位)
var reg = /^\w{3,}(\.\w+)*@[A-z0-9]+(\.[A-z]{2,5}){1,2}$/
```

## 字符串+正则表达式

split()方法可以截取字符串，传递的参数可以是正则表达式。默认全局。

```javascript
var str = "1a2b3c4d5e6f"
var result = str.split(/[A-z]/) //只要是字母就拆分，也就是指定的字符不要了
```

search()方法可以搜索字符串中是否含有指定内容，传递的参数可以是正则表达式。无法全局。

```javascript
var str = "hello abc hello aec afc"
var result = str.search(/a[bde]c/)
```

match()方法可以根据正则表达式，从一个字符串中将符合条件的内容提取出来。匹配到的内容会封装到一个数组中。

```javascript
var str = "1a2b3c4d5e6f"
var result = str.match(/[A-z]/) //找到第一个结束，结果为a
var result2 = str.match(/[A-z]/ig) //设置正则表达式为全局匹配模式，可以匹配所有内容，且忽略大小写
```

replace()方法可以将字符串中指定内容替换为新的内容，传递的第一个参数是被替换的内容【可以传入正则表达式，也可以解决只替换一个的问题】，第二个参数是新的内容。默认只替换第一个。

```javascript
var str = "1a2b3c4d5e6f"
var result = str.replace(/[A-z]/gi,"")//删除所有字母，即将所有字母替换为空
```

